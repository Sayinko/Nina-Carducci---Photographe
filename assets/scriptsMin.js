let gallery=[],category=[],currentIndex=0;const galleryImg=async()=>{return(await fetch("./assets/galleryImg.json")).json()},categoryImg=async()=>{return(await fetch("./assets/tagsImg.json")).json()},buttonFilters=e=>{var t=document.querySelector(".py-3"),a=document.createElement("div");a.classList.add("container-button");for(const l of e){var r=document.createElement("button");r.innerText=l.category,r.dataset.id=l.categoryId,r.classList.add("button-filters"),a.appendChild(r),buttonListeners(r)}t.appendChild(a)},buttonListeners=a=>{a.addEventListener("click",e=>{const t=e.target.dataset.id;document.querySelectorAll(".button-filters").forEach(e=>{e.classList.remove("button-filters-active")}),a.classList.add("button-filters-active");e="0"===t?gallery:gallery.filter(e=>e.tag===t);updateGallery(e)})},createGallery=l=>{const n=document.querySelector(".gallery");n.innerHTML="",l.forEach((e,t)=>{var a=document.createElement("img"),r=document.createElement("article");r.classList.add("containerImg"),a.src=e.image,a.alt=e.alt,a.dataset.tag=e.tag,n.appendChild(r),r.appendChild(a),r.addEventListener("click",()=>{currentIndex=t,createModale(l,e.image,e.alt)})})},updateGallery=l=>{const n=document.querySelector(".gallery");n.classList.add("gallery-hidden"),n.classList.remove("gallery-transition"),setTimeout(()=>{n.innerHTML="",l.forEach((e,t)=>{var a=document.createElement("img"),r=document.createElement("article");r.classList.add("containerImg"),a.src=e.image,a.alt=e.alt,a.dataset.tag=e.tag,n.appendChild(r),r.appendChild(a),r.addEventListener("click",()=>{currentIndex=t,createModale(l,e.image,e.alt)})}),requestAnimationFrame(()=>{n.classList.remove("gallery-hidden"),n.classList.add("gallery-transition")})},10)},createModale=(e,t,a)=>{const r=document.querySelector(".modale");r.innerHTML="",r.insertAdjacentHTML("afterbegin",`
    <div class="background-modale"></div>
    <div class="box-modale">
      <div class="container-arrow">
        <div class="arrow-left"><</div>
        <div class="arrow-right">></div>
        <div class="container-img">
          <img class="img-modale" src="${t}" alt="${a}">
        </div>
      </div>
    </div>`),r.style.overflow="visible",r.style.display="flex",document.querySelector(".background-modale").addEventListener("click",()=>{r.style.display="none"}),arrowLeftListener(e),arrowRightListener(e)},arrowLeftListener=e=>{document.querySelector(".arrow-left").addEventListener("click",()=>{currentIndex=0<currentIndex?currentIndex-1:e.length-1,updateModaleImg(e[currentIndex])})},arrowRightListener=e=>{document.querySelector(".arrow-right").addEventListener("click",()=>{currentIndex=currentIndex<e.length-1?currentIndex+1:0,updateModaleImg(e[currentIndex])})},updateModaleImg=e=>{var t=document.querySelector(".img-modale");t.src=e.image,t.alt=e.alt},app=async()=>{gallery=await galleryImg(),category=await categoryImg(),gallery&&category&&(createGallery(gallery),buttonFilters(category))};app();